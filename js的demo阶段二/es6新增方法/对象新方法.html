<!--
 * @Author: labixiaochen
 * @LastEditors: Tt's me too
 * @FirstEditTime: new Data()
 * @sayings: 质量编码,解决问题
 * @ObjectDescript: 
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // Object.assign(目标对象,源对象)合并对象,是直接将第二个参数的对象合并到第一个参数的对象中去，返回的是第一个对象
        const obj1 = {
            name: 'xiaochen',
            age: 12

        }
        const obj2 = {
            xxx: 'asd',
            ase: '123'
        }
        console.log({
            ...obj1,
            ...obj2
        } === obj1 && {
            ...obj1,
            ...obj2
        } === obj2); //false,由此可见，展开运算符相当于重新创建了一个新的对象
        console.log(Object.assign(obj1, obj2) === obj1); //true
        console.log(obj2);
        console.log(obj1);
        // 由此可见，是将第二个对象合并到第一个对象中去了，改变了第一个对象
        console.log(Object.assign({}, obj1, obj2)); //这样就能创建出一个新的对象了，前面给了一个空的对象啊(一般使用此种方式进行合并多个对象)

        // 注意事项：
        console.log('注意事项');
        // 1基本数据类型作为除第一参数以外的参数的情况
        // 转换逻辑： 与对象的展开类似，先转换为对象，然后进行合并
        console.log(Object.assign({}, undefined));
        console.log(Object.assign({}, null));
        console.log(Object.assign({}, 1));
        console.log(Object.assign({}, '123'));
        console.log(Object.assign({}, false));

        // 同名属性的合并原则：后面传入的属性直接覆盖

        // 应用：
        // 合并默认参数和用户参数，很经典啊
        const logUser = userOptions => {
            const DEFAULTS = {
                username: 'ZhanSan',
                age: 0,
                sex: 'male'
            }
            const options = Object.assign({}, DEFAULTS, userOptions);
            console.log(options);
        };

        logUser({});
        logUser({
            username: 'libai'
        });

        // Object.keys()和Object.values()和Object.entries()
        // 获取对象的键，值和键值的集合
        console.log(Object.keys(obj1));
        console.log(Object.values(obj1));
        console.log(Object.entries(obj1));

        // 与数组类似方法的区别
        // [1, 2].keys();实例方法，返回的都是遍历对象
        // Object.keys(obj1) 构造函数方法，返回的统一的都是数组

        // 使用for of来循环遍历对象
        for (const [key, value] of Object.entries(obj1)) {
            console.log(`key为${key},value为${value}`);
        } //不能保证顺序和你看到是一样的，和for  in是一样的
    </script>

</body>

</html>