<!--
 * @Author: labixiaochen
 * @LastEditors: Tt's me too
 * @FirstEditTime: new Data()
 * @sayings: 质量编码,解决问题
 * @ObjectDescript: 
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 对象只能在{}中进行展开，对象不能直接展开，为什么？
        // 解决：因为你想想，你直接...obj,你应该得到什么？一个裸露在外面各个属性的散乱输出？所以我们必须将这个散乱输出再次写在一个新的{}空对象集中，这样就不违背了对象的定义

        // 对象的展开： 把属性罗列出来， 用逗号分割， 放在一个 {}中， 构成一个新的对象


        // 测试对象的展开运算符的情况
        let obj = {
            a: 1,
            b: 2,
            c: 2
        }
        // console.log(...obj); //直接报错Uncaught TypeError: Found non-callable @@iterator
        console.log({
            ...obj
        }) //{a: 1, c: 2}这样写是正确形式

        // 我们可以测试一下你运行之后得到的是否是同一个对象？
        console.log(`新展开的对象和原来的对象的关系是${obj == {...obj}}`);
        // 突然想到写的，本来是想要一个return的，但是在IIFE中必须马上输出出来，不然我就写了哈哈哈
        ((beal) => {
            if (beal == 'true') {
                console.log(`两个对象居然是一个`);
            } else {
                console.log(`我就说两个不是一个对象`);
            }
        })(`${obj == {...obj}}`)


        // 合并对象
        const obj2 = {
            a: 2
        };
        const obj3 = {
            b: 2
        };
        console.log({
            ...obj2,
            ...obj3
        });

        // 空对象的展开
        console.log({
            ...{}
        }); //{}
        console.log({
            ...{},
            ...obj2,
            a: 1 //上面这个对象中有a属性了，但是谁在最后进行注册在对象中，谁就是最后的a的值，应该是覆盖的意思
        })

        // 非对象的展开
        // 如果展开的不是对象， 则会将自动转换为对象， 再将其属性罗列出来
        console.log({
            ...1
        });

        console.log({
            ...undefined
        });

        console.log({
            ...null
        });

        // 如果展开的是字符串的话就会转换为数组，因此不会返回一个空对象
        console.log({
            ...'我爱你'
        });
        console.log(
            ...'我爱你'
        );
        console.log([
            ...'我爱你'
        ]);

        // 对象中对象属性的展开
        // 不会展开对象中的对象属性
        console.log({
            ...{
                a: 1,
                b: {
                    a: 1
                }
            }
        });
    </script>
</body>

</html>